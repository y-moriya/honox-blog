---
title: "Windowsを再インストールするときの覚書"
date: "2025-04-13"
description: "ブルースクリーンが頻発したのでWindowsを再インストールしたときの覚書です。"
categories:
  - "日記"
---

Windows PC が最近若干挙動不安定になっていて、起動直後にブルースクリーンに陥ることが何度かあった。
加えて急にDocker Desktopが起動しなくなっていたりと、わりと致命的に壊れている感じがしたので再インストールすることに。

最初、インストール先のディスクを間違えてしまい、(元)DドライブのHDDにWindowsをインストールしてしまうなど、
盛大にミスったりはしたのだけど、最終的にはクリーンインストールできた。

再インストール前に入れていたアプリはNotionに一覧化してまとめてあったので、元の環境を再現するのは大して手間がかからなかった。
認証やライセンスキーなんかも、全部1Passwordに突っ込んであるので、EdgeとChromeを同期すれば困ることはほぼない。
が、再インストール前にやるべきだったことをいくつか怠ったりミスったりしたせいで、失敗もしてしまった。

## ブラウザ拡張機能の設定は個別にバックアップするべき

EdgeやChromeは、インストールしている拡張機能を同期することはできるものの、その内部の設定は保存してくれない。
たとえばTampermonkeyの個別のユーザースクリプトや、はてなフィルタのようなフィルタを適用するURLなどは、
ブラウザをインストールし直すと削除されてしまう。

Tampermonkeyについては普段からローカルファイルを参照するようにしており、Git管理していたのでダメージはあまりなかった。
それでもサイトごとに個別にユーザースクリプトを設定しなおすのは多少めんどくさい。
また、ローカルファイルを参照できるようにTampermonkey自体の設定を変更するのは、やや設定項目がわかりにくいのもあり、
再設定に手間取ってしまった。Tampermonkeyには設定をバックアップしたり同期したりする機能があるので、再インストール前に有効にしておくべきだった。

はてなフィルタの除外URLなんかは完全に失われてしまい、見たくないサイトのブックマークが表示されまくることになってしまったので、
これを機にはてなブックマークは見るのをやめておきたい。
そもそも除外URLも非表示ブクマカも異常な量になっており、まともに見れないサイトなのでいい機会だった。

## Gitのpush漏れは注意

Git管理していたけどpushしてなくて消えたリポジトリが1つあった。合掌。
まあ大したコードじゃなかったのであまり痛くはなかった。生成AIですぐ作り直せるしね。

あとは日記をObsidianで書いて、Gitのプラグインを入れてGitHubにバックアップを残していたはずだったのだけど、
コミットだけしてpushしていなかったせいで数日分の日記が消えてしまった。
勝手にpushしてくれるオプションがあった気がするのでそういう設定は欠かさないようにしておくべき。
素直に金を払ってSync設定をするのが一番よさそうだけど、サブスクが増えるのは悩ましいところ。

## Wingetは便利ではあるが古いバージョンが登録されていることがある

WingetはWindowsのターミナルからコマンドでアプリをインストールできるやつなんだけど、
インストールできないアプリがあるのはもちろん、アプリがあったとしても古いバージョンのものがある。

Voicemeeter Banana なんかはその代表例で、公式サイトからDLできるものと比べて、Wingetだとだいぶ古いものがインストールされる。
このアプリ、なんか入れ直すたびに毎回この現象に遭遇している気がする。

Wingetくん便利なんだけど、まだまだこなれてない印象なので、頑張ってほしいなあと思う。
